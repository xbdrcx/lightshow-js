<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/x-icon" href="icons/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="../bootstrap5.3.1.min.css">
    <link rel="stylesheet" href="utils.css">
    <link rel="stylesheet" href="my.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LightShow JS</title>
</head>
<body class="prevent-select" style="background-color: black;">
    
    <div class="splash">
        <img src="../icons/splash.png" class="splash-header center" width="24" height="24">
    </div>

    <div class="container-fluid">

        <div class="app-title center" id="app-title">
            <h4>LightShow JS</h4>
        </div>

        <div class="menu-bar" id="menu-bar">
            <button class="btn btn-primary dropdown-toggle" href="#" role="button" id="beamsDropdown" data-bs-toggle="dropdown" aria-expanded="false"> 
                BEAMS 
            </button>
            <ul class="dropdown-menu" aria-labelledby="beamsDropdown">
                <li>
                    <button id="beamsOnOff" type="button" class="lightshowbtn btn btn-primary" onclick="stopLightbeams()">
                        BEAMS ON <i class="fas fa-square" style="color: #ff0000;"></i>
                    </button>
                </li>
                <li>
                    <button id="beamMotionBtn" type="button" class="lightshowbtn btn btn-primary" onclick="beamMotion()">
                        BEAM MOTION
                    </button>
                </li>
                <li>
                    <button id="beamStrobeBtn" type="button" class="lightshowbtn btn btn-primary" onclick="strobeBeams()">
                        BEAM STROBE
                    </button>
                </li>
                <li>
                    <label for="beamSpeedRange" style="color: black;">Speed</label>
                    <input value="10" type="range" id="beamSpeedRange" name="beamSpeedRange" min="1" max="8" oninput="beamSpeed(this.value)"/>
                </li>
                <li>
                    <label for="beamOpacityRange" style="color: black;">Opacity</label>
                    <input value="10" type="range" id="beamOpacityRange" name="beamOpacityRange" min="0" max="8" oninput="beamOpacity(this.value)"/>
                </li>
            </ul>
            <button class="btn btn-primary dropdown-toggle" href="#" role="button" id="lasersDropdown" data-bs-toggle="dropdown" aria-expanded="false"> 
                LASERS 
            </button>
            <ul class="dropdown-menu" aria-labelledby="lasersDropdown">
                <li>
                    <button id="lasersOnOff" type="button" class="lightshowbtn btn btn-primary" onclick="startRotation()">
                        LASERS OFF <i class="fas fa-square" style="color: #ff0000;"></i>
                    </button>
                </li>
                <li>
                    <button id="strobeLasers" type="button" class="lightshowbtn btn btn-primary" onclick="strobeLasers()">
                        STROBE LASERS
                    </button>
                </li>
                <li>
                    <label for="laserSpeedRange" style="color: black;">Speed</label>
                    <input value="2" type="range" id="laserSpeedRange" name="laserSpeedRange" min="1" max="4" oninput="laserSpeed(this.value)"/>
                </li>
                <li>
                    <label for="laserOpacityRange" style="color: black;">Opacity</label>
                    <input value="10" type="range" id="laserOpacityRange" name="laserOpacityRange" min="0" max="10" oninput="laserOpacity(this.value)"/>
                </li>
            </ul>
            <button style="margin-right: 12px;" id="flashScreen" type="button" class="lightshowbtn btn btn-primary" onclick="flashScreen()">
                FLASH
            </button>
            <button style="margin-right: 12px;" id="strobeLights" type="button" class="lightshowbtn btn btn-primary" onclick="strobeLights()">
                STROBE
            </button>
            <button data-toggle="tooltip" data-bs-placement="bottom" title="About LightShow JS" id="openAbout" type="button" class="btn btn-primary" data-toggle="modal" data-target="#aboutModal">
                <img src="../icons/info.png" width="24" height="24">
            </button>
            <button data-toggle="tooltip" data-bs-placement="bottom" title="Keyboard Commands" id="openCommands" type="button" class="btn btn-primary" data-toggle="modal" data-target="#commandsModal">
                <img src="../icons/keyboard.ico" width="24" height="24">
            </button>
            <button data-toggle="tooltip" data-bs-placement="bottom" id="importbtn" title="Import File (L)" class="btn btn-primary">
                AutoLights
                <input type="file" value="upload" id="fileimporter" name="fileimporter" accept="video/*, audio/*" style="padding: 10px; display: none;">
                <video id="player" style="display: none;"></video>
            </button>
        </div>

        <!-- <video style="position: absolute; width: 1200px; z-index: -9999;" 
        controls id="player" src="F:\Video\20210402_113044_1_2.mp4" autoplay loop muted></video> -->
        
        <canvas id="canvas" style="display: none;"></canvas>

        <!-- LIGHTS CONTAINER -->
        <div class="beamcontainer" id="beamcontainer">
        </div>

        <!-- WARNING Modal -->
        <div class="modal fade" id="warningModal" tabindex="-1" role="dialog" aria-labelledby="warningModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-body player-tips">
                        <hr>
                        <h4 style="text-align: center;">WARNING</h4>
                        <hr>
                        <p style="text-align: center;">Caution. This application contains <b>Flashing Lights</b>.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- About Modal -->
        <div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-labelledby="aboutModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-body player-tips">
                        <hr>
                        <h4 style="text-align: center;">About LightShow</h4>
                        <hr>
                        <p>Developed by <a href="https://www.github.com/xbdrcx" target="_blank">Bruno</a>, 
                            LightShow JS is a 2D party light-system simulator developed with Pure JavaScript, Bootstrap and much love for both tech and music.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Keyboard Commands Modal -->
        <div style="text-align: center;" class="modal fade" id="commandsModal" tabindex="-1" role="dialog" aria-labelledby="commandsModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-body player-tips">
                        <hr>
                        <h4>General Commands</h4>
                        <hr>
                        <p><span>Z</span> - Flash Screen</p>
                        <p><span>X</span> - ON/OFF All Lighting Strobe</p>
                        <hr>
                        <h4>Light Beams</h4>
                        <hr>
                        <p><span>Q</span> - ON/OFF Beams</p>
                        <p><span>W</span> - Descrese Beam Intensity</p>
                        <p><span>E</span> - Increase Beam Intensity</p>
                        <p><span>R</span> - Decrease Beam Speed</p>
                        <p><span>T</span> - Increase Beam Speed</p>
                        <p><span>Y</span> - ON/OFF Beam Strobe</p>
                        <hr>
                        <h4>Lasers</h4>
                        <hr>
                        <p><span>A</span> - ON/OFF Lasers</p>
                        <p><span>S</span> - Descrese Lasers Intensity</p>
                        <p><span>D</span> - Increase Lasers Intensity</p>
                        <p><span>F</span> - Decrease Lasers Speed</p>
                        <p><span>G</span> - Increase Lasers Speed</p>
                        <p><span>H</span> - ON/OFF Lasers Strobe</p>
                    </div>
                </div>
            </div>
        </div>

    </div>

</body>
</html>

<script src="../jquery-3.7.1.js"></script>
<script src="../bootstrap5.3.1.min.js"></script>
<script src="utils.js"></script>
<script src="beam.js"></script>
